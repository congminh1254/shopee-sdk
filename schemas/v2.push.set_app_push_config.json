{
  "api_id": 1542,
  "api_name": "v2.push.set_app_push_config",
  "api_type": "Public",
  "common_params": "[{\"name\":\"partner_id\",\"type\":\"int\",\"sample\":\"1\",\"description\":\"Partner ID is assigned upon registration is successful. Required for all requests.\"},{\"name\":\"timestamp\",\"type\":\"timestamp\",\"sample\":\"1610000000\",\"description\":\"This is to indicate the timestamp of the request. Required for all requests. Expires in 5 minutes.\"},{\"name\":\"sign\",\"type\":\"string\",\"sample\":\"e318d3e932719916a9f9ebb57e2011961bd47abfa54a36e040d050d8931596e2\",\"description\":\"Signature generated by partner_id, api path, timestamp and partner_key via HMAC-SHA256 hashing algorithm. More details: <a href= https://open.shopee.com/documents?module=87&type=2&id=58&version=2> https://open.shopee.com/documents?module=87&type=2&id=58&version=2</a>\"}]",
  "define": "you can turn on or turn off your app push config setting through this open api",
  "error_list": [
    {
      "name": "error_param",
      "description": "{msg}"
    },
    {
      "name": "error_param",
      "description": "this callback_url is invalid, please check your callback_url."
    },
    {
      "name": "error_param",
      "description": "Your app's callback_url is empty, please input a callback_url before you turn on push config."
    },
    {
      "name": "error_data",
      "description": "parse data failed"
    },
    {
      "name": "error_data",
      "description": "data not exist"
    },
    {
      "name": "error_param",
      "description": "parameter invalid"
    },
    {
      "name": "error_param",
      "description": "The call back url can not be Shopee intranet address, please change another new call back url"
    },
    {
      "name": "error_param",
      "description": "The information you queried is not found."
    },
    {
      "name": "error_param",
      "description": "Wrong parameters, detail: {msg}."
    },
    {
      "name": "error_server",
      "description": "Something wrong. Please try later.\t"
    },
    {
      "name": "error_param",
      "description": "Shopee have sent a test push to this call back url, but we didn't get any response in 3 seconds with 2xx code, please check your service. "
    },
    {
      "name": "error_param",
      "description": "request not from gateway"
    },
    {
      "name": "error_param",
      "description": "{msg}"
    },
    {
      "name": "error_server",
      "description": "error server"
    },
    {
      "name": "error_param",
      "description": "Shopee have sent a test push to this call back url, the response code we get from this callback_url is not 2xx code, please check your service. "
    }
  ],
  "errors": "",
  "gateway_api_id": 0,
  "is_get_method": 0,
  "method": 1,
  "module_id": 105,
  "module_name": "Push",
  "params": "{\"request_params\":[{\"description\":\"<p>The callback url of push mechanism. It is the address where the Shopee will send the push message to. If you don't set any callback_url before, this parameters is required.<br /></p>\",\"name\":\"callback_url\",\"sample\":\"https://open.shopee.com/\",\"type\":\"string\",\"required\":\"False\",\"key\":\"WPPCYra\"},{\"description\":\"<p>Turn on push config, Shopee will send the push message into the callback url.</p><p>1=Shop authorization for partners</p><p>2=Shop deauthorization for partners</p><p>3=Order status update push</p><p>4=TrackingNo push</p><p>5=Shopee Updates</p><p>6=Banned item push</p><p>7=item promotion push</p><p>8=reserved stock change push</p><p>9=promotionn update push</p><p>10=webchat push</p><p>11=video upload push</p><p>12=openapi authorization expiry push</p><p>13=brand register result<br /></p>\",\"name\":\"set_push_config_on\",\"sample\":\"[1,2,3,4,5,8,9,10]\",\"type\":\"int[]\",\"required\":\"False\",\"key\":\"nEbxkxx\"},{\"description\":\"<p>Turn off Push config, Shopee won't send the push message into the callback url.</p><p>1=Shop authorization for partners</p><p>2=Shop deauthorization for partners</p><p>3=Order status update push</p><p>4=TrackingNo push</p><p>5=Shopee Updates</p><p>6=Banned item push</p><p>7=item promotion push</p><p>8=reserved stock change push</p><p>9=promotionn update push</p><p>10=webchat push</p><p>11=video upload push</p><p>12=openapi authorization expiry push</p><p>13=brand register result<br /></p>\",\"name\":\"set_push_config_off\",\"sample\":\"[6,7,11,12,13]\",\"type\":\"int[]\",\"required\":\"False\",\"key\":\"tWJJQbK\"},{\"description\":\"<p>Use this filed to set shops that need to be blocked.Please input no more than 500 shop id.<br /></p>\",\"name\":\"blocked_shop_id_list\",\"sample\":\"[10010,20020,30030]\",\"type\":\"int[]\",\"required\":\"False\",\"key\":\"RhYsNwX\"}],\"response_params\":[{\"name\":\"request_id\",\"type\":\"string\",\"sample\":\"b937c04e554847789cbf3fe33a0ad5f1\",\"description\":\"<p>The identifier for an API request for error tracking.<br /></p>\",\"key\":\"mXhkrjD\"},{\"description\":\"<p>Indicate error type if hit error. Empty if no error happened.<br /></p>\",\"name\":\"error\",\"sample\":\"common.error_auth\",\"type\":\"string\",\"required\":null,\"key\":\"AtMQiQz\"},{\"description\":\"<p>Indicate error details if hit error. Empty if no error happened.<br /></p>\",\"name\":\"message\",\"sample\":\"Invalid sign\",\"type\":\"string\",\"required\":null,\"key\":\"xsXNFXH\"},{\"description\":\"<p>Detail informations you are querying.<br /></p>\",\"name\":\"response\",\"sample\":\"\",\"type\":\"object\",\"required\":null,\"key\":\"azQMmkh\",\"children\":[{\"description\":\"<p>Use this field to indicate whether the configuration is set successfully.<br /></p>\",\"name\":\"result\",\"sample\":\"success\",\"type\":\"string\",\"required\":null,\"key\":\"jBTQdA\"}]}]}",
  "perm_mtime": 1660879986,
  "perm_operator": "huangying.zou@shopee.com",
  "perm_type": 1,
  "perm_upload_file_name": "",
  "priority": 80334,
  "rate_limit": "",
  "request_sample": "[{\"type\":\"Payload\",\"value\":\"{\\n\\t\\\"callback_url\\\": \\\"https://open.shopee.com/\\\",\\n\\t\\\"set_push_config_on\\\": [\\n\\t\\t1,\\n\\t\\t2,\\n\\t\\t3,\\n\\t\\t4,\\n\\t\\t5,\\n\\t\\t8,\\n\\t\\t9,\\n\\t\\t10\\n\\t],\\n\\t\\\"set_push_config_off\\\": [\\n\\t\\t6,\\n\\t\\t7,\\n\\t\\t11,\\n\\t\\t12,\\n\\t\\t13\\n\\t],\\n\\t\\\"blocked_shop_id_list\\\": [\\n\\t\\t10010,\\n\\t\\t20020,\\n\\t\\t30030\\n\\t]\\n}\"},{\"type\":\"Java\",\"value\":\"Unirest.setTimeouts(0, 0);\\nHttpResponse<String> response = Unirest.post(\\\"https://partner.uat.shopeemobile.com/api/v2/push/set_app_push_config?partner_id=partner_id&sign=sign&timestamp=timestamp\\\")\\n.header(\\\"Content-Type\\\",\\\"application/json\\\")\\n.body(\\\"{\\n   \\\\\\\"blocked_shop_id_list\\\\\\\": [\\n      10010,\\n      20020,\\n      30030\\n   ],\\n   \\\\\\\"callback_url\\\\\\\": \\\\\\\"https://open.shopee.com/\\\\\\\",\\n   \\\\\\\"set_push_config_off\\\\\\\": [\\n      6,\\n      7,\\n      11,\\n      12,\\n      13\\n   ],\\n   \\\\\\\"set_push_config_on\\\\\\\": [\\n      1,\\n      2,\\n      3,\\n      4,\\n      5,\\n      8,\\n      9,\\n      10\\n   ]\\n}\\\")\\n.asString();\"},{\"type\":\"PHP\",\"value\":\"<?php\\n\\n$curl = curl_init();\\n\\ncurl_setopt_array($curl, array(\\n  CURLOPT_URL => 'https://partner.uat.shopeemobile.com/api/v2/push/set_app_push_config?partner_id=partner_id&sign=sign&timestamp=timestamp',\\n  CURLOPT_RETURNTRANSFER => true,\\n  CURLOPT_ENCODING => '',\\n  CURLOPT_MAXREDIRS => 10,\\n  CURLOPT_TIMEOUT => 0,\\n  CURLOPT_FOLLOWLOCATION => true,\\n  CURLOPT_HTTP_VERSION => CURL_HTTP_VERSION_1_1,\\n  CURLOPT_CUSTOMREQUEST => 'POST',\\n  CURLOPT_POSTFIELDS => '{\\n    \\\"blocked_shop_id_list\\\": [\\n        10010,\\n        20020,\\n        30030\\n    ],\\n    \\\"callback_url\\\": \\\"https://open.shopee.com/\\\",\\n    \\\"set_push_config_off\\\": [\\n        6,\\n        7,\\n        11,\\n        12,\\n        13\\n    ],\\n    \\\"set_push_config_on\\\": [\\n        1,\\n        2,\\n        3,\\n        4,\\n        5,\\n        8,\\n        9,\\n        10\\n    ]\\n}',\\n  CURLOPT_HTTPHEADER => array(\\n    'Content-Type: application/json'\\n  ),\\n));\\n\\n$response = curl_exec($curl);\\n\\ncurl_close($curl);\\necho $response;\\n\"},{\"type\":\"cURL\",\"value\":\"curl --location --request POST 'https://partner.uat.shopeemobile.com/api/v2/push/set_app_push_config?partner_id=partner_id&sign=sign&timestamp=timestamp' \\\\\\n--header 'Content-Type: application/json' \\\\\\n--data-raw '{\\n   \\\"blocked_shop_id_list\\\": [\\n      10010,\\n      20020,\\n      30030\\n   ],\\n   \\\"callback_url\\\": \\\"https://open.shopee.com/\\\",\\n   \\\"set_push_config_off\\\": [\\n      6,\\n      7,\\n      11,\\n      12,\\n      13\\n   ],\\n   \\\"set_push_config_on\\\": [\\n      1,\\n      2,\\n      3,\\n      4,\\n      5,\\n      8,\\n      9,\\n      10\\n   ]\\n}'\\n\"},{\"type\":\"Python\",\"value\":\"import requests\\nimport json\\n\\nurl = \\\"https://partner.uat.shopeemobile.com/api/v2/push/set_app_push_config?partner_id=partner_id&sign=sign&timestamp=timestamp\\\"\\n\\npayload=json.dumps({\\n  \\\"blocked_shop_id_list\\\": [\\n    10010,\\n    20020,\\n    30030\\n  ],\\n  \\\"callback_url\\\": \\\"https://open.shopee.com/\\\",\\n  \\\"set_push_config_off\\\": [\\n    6,\\n    7,\\n    11,\\n    12,\\n    13\\n  ],\\n  \\\"set_push_config_on\\\": [\\n    1,\\n    2,\\n    3,\\n    4,\\n    5,\\n    8,\\n    9,\\n    10\\n  ]\\n})\\nheaders = {\\n  'Content-Type': 'application/json'\\n}\\nresponse = requests.request(\\\"POST\\\",url,headers=headers, data=payload, allow_redirects=False)\\n\\nprint(response.text)\\n\"}]",
  "response_sample": "[{\"type\":\"JSON\",\"value\":\"{\\n\\t\\\"request_id\\\": \\\"b937c04e554847789cbf3fe33a0ad5f1\\\",\\n\\t\\\"error\\\": \\\"\\\",\\n\\t\\\"message\\\": \\\"\\\",\\n\\t\\\"response\\\": {\\n\\t\\t\\\"result\\\": \\\"success\\\"\\n\\t}\\n}\"}]",
  "status": 1,
  "tag": "",
  "test_url": "https://partner.test-stable.shopeemobile.com/api/v2/push/set_app_push_config",
  "update_log_list": [
    {
      "date": "2022-08-19",
      "content": "New API"
    }
  ],
  "url": "https://partner.shopeemobile.com/api/v2/push/set_app_push_config",
  "version": "",
  "error_example": "[{\"type\":\"JSON\",\"value\":\"{\\n\\t\\\"request_id\\\": \\\"b937c04e554847789cbf3fe33a0ad5f1\\\",\\n\\t\\\"error\\\": \\\"common.error_auth\\\",\\n\\t\\\"message\\\": \\\"Invalid sign\\\",\\n\\t\\\"response\\\": {\\n\\t\\t\\\"result\\\": \\\"\\\"\\n\\t}\\n}\"}]",
  "api_permission": [
    "ERP System",
    "Seller In House System",
    "Product Management",
    "Order Management",
    "Accounting And Finance",
    "Marketing",
    "Customer Service",
    "Brand Membership",
    "Customized APP",
    "Ads Service",
    "Consignment Service System",
    "Custom APP",
    "Swam ERP",
    "Livestream Management",
    "Affiliate Marketing Solution Management"
  ],
  "path": "/api/v2/push/set_app_push_config"
}