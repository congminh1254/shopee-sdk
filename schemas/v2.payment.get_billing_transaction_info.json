{
  "api_id": 1885,
  "api_name": "v2.payment.get_billing_transaction_info",
  "api_type": "Shop",
  "common_params": "[{\"name\":\"partner_id\",\"type\":\"int\",\"sample\":\"1\",\"description\":\"Partner ID is assigned upon registration is successful. Required for all requests.\"},{\"name\":\"timestamp\",\"type\":\"timestamp\",\"sample\":\"1610000000\",\"description\":\"This is to indicate the timestamp of the request. Required for all requests. Expires in 5 minutes.\"},{\"name\":\"access_token\",\"type\":\"string\",\"sample\":\"c09222e3fc40ffb25fc947f738b1abf1\",\"description\":\"The token for API access, using to identify your permission to the api. Valid for multiple use and expires in 4 hours.\"},{\"name\":\"shop_id\",\"type\":\"int\",\"sample\":\"600000\",\"description\":\"Shopee's unique identifier for a shop. Required param for most APIs.\"},{\"name\":\"sign\",\"type\":\"string\",\"sample\":\"e318d3e932719916a9f9ebb57e2011961bd47abfa54a36e040d050d8931596e2\",\"description\":\"Signature generated by partner_id, api path, timestamp, access_token, shop_id and partner_key via HMAC-SHA256 hashing algorithm. More details: <a href= https://open.shopee.com/documents?module=87&type=2&id=58&version=2> https://open.shopee.com/documents?module=87&type=2&id=58&version=2</a>\"}]",
  "define": "This API is applicable for Cross Border (CB) sellers only to get the detailed payout transaction data, both released and to-be released transaction can be found in here",
  "error_list": [
    {
      "name": "error_param",
      "description": "cursor is required and format should be correct. Please check"
    },
    {
      "name": "common.error_not_found",
      "description": "Unknown error: ***. Something wrong. Please try later."
    },
    {
      "name": "error_param",
      "description": "billing_transaction_info_type provided is invalid, please use one of the support billing item type values: 1 - To Release, 2 - Released."
    },
    {
      "name": "error_param",
      "description": "page_size is required, format should be correct and input within 1-100"
    },
    {
      "name": "error_param",
      "description": "payout ids{id1,id2,...} not found, please recheck if the id is correct or not"
    },
    {
      "name": "error_param",
      "description": "payout ids can not be empty when querying Released info"
    },
    {
      "name": "error_param",
      "description": "payout ids length exceed limit"
    },
    {
      "name": "error_param",
      "description": "shop_id is required\t\t\t"
    },
    {
      "name": "error_param",
      "description": "billing_transaction_info_type is required"
    },
    {
      "name": "error_param",
      "description": "There is no access_token in query."
    },
    {
      "name": "error_auth",
      "description": "Invalid access_token."
    },
    {
      "name": "error_param",
      "description": "Invalid partner_id."
    },
    {
      "name": "error_param",
      "description": "There is no partner_id in query."
    },
    {
      "name": "error_param",
      "description": "There is no sign in query."
    },
    {
      "name": "error_sign",
      "description": "Wrong sign."
    },
    {
      "name": "error_param",
      "description": "no timestamp"
    },
    {
      "name": "error_param",
      "description": "Invalid timestamp"
    },
    {
      "name": "error_data",
      "description": "parse data failed"
    },
    {
      "name": "error_data",
      "description": "data not exist"
    },
    {
      "name": "error_param",
      "description": "parameter invalid"
    },
    {
      "name": "error_param",
      "description": "The information you queried is not found."
    },
    {
      "name": "error_param",
      "description": "Wrong parameters, detail: {msg}."
    },
    {
      "name": "error_server",
      "description": "Something wrong. Please try later.\t"
    },
    {
      "name": "error_shop",
      "description": "shopid is invalid"
    },
    {
      "name": "error_param",
      "description": "request not from gateway"
    },
    {
      "name": "error_param",
      "description": "Invalid or missing cursor parameter. Please enter an empty string i.e. \"\" for the first request or use the next_cursor value returned from the previous response for subsequent requests."
    },
    {
      "name": "error_server",
      "description": "Internal server error\t\t\t"
    },
    {
      "name": "error_param",
      "description": "The request body is not a valid json format\t\t\t"
    },
    {
      "name": "error_param",
      "description": "This payment API is only applicable for cross boarder shop"
    },
    {
      "name": "error_param",
      "description": "Invalid or missing page_size parameter , please enter a valid value that is with 1-100, indicating the number of records within a page."
    }
  ],
  "errors": "",
  "gateway_api_id": 0,
  "is_get_method": 0,
  "method": 1,
  "module_id": 97,
  "module_name": "Payment",
  "params": "{\"request_params\":[{\"description\":\"<p>Billing transaction types: 1: TO_RELEASE, 2:&nbsp;RELEASED</p>\",\"name\":\"billing_transaction_info_type\",\"sample\":\"1\",\"type\":\"int\",\"required\":\"True\",\"key\":\"SbZMDjm\"},{\"description\":\"<p>encrypted_payout_id get from API: v2.get_payout_info</p><p><br /></p><p><br /></p><p>when&nbsp;encrypted_payout_id provided and billing_transaction_info_type=2, we will return the \\\"released\\\" billing items under this payout.</p><p>when&nbsp;encrypted_payout_id not provided, we will return the \\\"to release\\\" billing items under hasn't form payout yet<br /></p><p><br /></p><p>Max length: 100</p>\",\"name\":\"encrypted_payout_ids\",\"sample\":\"[\\\"10376329180766\\\",\\\"637926329180767\\\"]\",\"type\":\"string[]\",\"required\":\"False\",\"key\":\"hDCRKJw\"},{\"description\":\"<p>Specifies the starting entry of data to return in the current call. Default is \\\"\\\". If data is more than one page, the offset can be some entry to start next call.<br /></p>\",\"name\":\"cursor\",\"sample\":\"\\\"\\\"\",\"type\":\"string\",\"required\":\"True\",\"key\":\"byEWsQJ\"},{\"description\":\"<p>Number of pages returned max:100<br /></p>\",\"name\":\"page_size\",\"sample\":\"100\",\"type\":\"int\",\"required\":\"True\",\"key\":\"KMdPTCS\"}],\"response_params\":[{\"description\":\"<p>Error code<br /></p>\",\"name\":\"error\",\"sample\":\"\",\"type\":\"string\",\"required\":null,\"key\":\"QtfkHzt\"},{\"description\":\"<p>Error message<br /></p>\",\"name\":\"message\",\"sample\":\"\",\"type\":\"string\",\"required\":null,\"key\":\"ennneSB\"},{\"description\":\"<p>The identifier for an API request for error tracking.<br /></p>\",\"name\":\"request_id\",\"sample\":\"10fff653c945a390f8e1323c6bdffff4\",\"type\":\"string\",\"required\":null,\"key\":\"DkeEZBc\"},{\"description\":\"\",\"name\":\"response\",\"sample\":\"\",\"type\":\"object\",\"required\":null,\"key\":\"fbBjiRM\",\"children\":[{\"description\":\"\",\"name\":\"transactions\",\"sample\":\"\",\"type\":\"object\",\"required\":null,\"key\":\"RDRYzKh\",\"children\":[{\"description\":\"<p>each transaction's amount<br /></p>\",\"name\":\"amount\",\"sample\":\"-594.78\",\"type\":\"float\",\"required\":null,\"key\":\"AXcPMHn\"},{\"description\":\"<p>transaction currency<br /></p>\",\"name\":\"currency\",\"sample\":\"SGD\",\"type\":\"string\",\"required\":null,\"key\":\"bhnisnF\"},{\"description\":\"<p>transaction currency<br /></p>\",\"name\":\"order_sn\",\"sample\":\"SGD\",\"type\":\"string\",\"required\":null,\"key\":\"wCTcYHy\"},{\"description\":\"<p>transaction belongs to which type<br /></p>\",\"name\":\"cost_header\",\"sample\":\"Refund Amount\",\"type\":\"string\",\"required\":null,\"key\":\"btGekWa\"},{\"description\":\"<p>transaction detailed scenarios<br /></p>\",\"name\":\"scenario\",\"sample\":\"Return Refund After Order Completed\",\"type\":\"string\",\"required\":null,\"key\":\"jbtQWnb\"},{\"description\":\"<p>detailed description for this transactions<br /></p>\",\"name\":\"remark\",\"sample\":\"Deduction on return refund requests raised after order is completed\",\"type\":\"string\",\"required\":null,\"key\":\"GxQyCGh\"},{\"description\":\"<p>To define this transaction happen at order level or shop level. e.g. shop level adjustment<br /></p>\",\"name\":\"level\",\"sample\":\"Order\",\"type\":\"string\",\"required\":null,\"key\":\"TpHctPP\"},{\"description\":\"<p>could be Escrow (Order Income) or Adjustment (for this order)<br /></p>\",\"name\":\"billing_transaction_type\",\"sample\":\"ADJUSTMENT\",\"type\":\"string\",\"required\":null,\"key\":\"dCahkim\"},{\"description\":\"<p>Will be either \\\"To Release\\\" or \\\"Released\\\".<br /></p>\",\"name\":\"billing_transaction_status\",\"sample\":\"Released\",\"type\":\"string\",\"required\":null,\"key\":\"djdfGFH\"}]},{\"description\":\"\",\"name\":\"more\",\"sample\":\"false\",\"type\":\"boolean\",\"required\":null,\"key\":\"mmNMNQe\"},{\"description\":\"\",\"name\":\"next_cursor\",\"sample\":\"false\",\"type\":\"string\",\"required\":null,\"key\":\"RsasGJD\"}]}]}",
  "perm_mtime": 1704191283,
  "perm_operator": "grace.li@shopee.com",
  "perm_type": 1,
  "perm_upload_file_name": "",
  "priority": 10,
  "rate_limit": "",
  "request_sample": "[{\"type\":\"Payload\",\"value\":\"{\\n\\t\\\"billing_transaction_info_type\\\": 1,\\n\\t\\\"encrypted_payout_ids\\\": [\\n\\t\\t\\\"10376329180766\\\",\\n\\t\\t\\\"637926329180767\\\"\\n\\t],\\n\\t\\\"cursor\\\": \\\"\\\\\\\"\\\\\\\"\\\",\\n\\t\\\"page_size\\\": 100\\n}\"},{\"type\":\"Java\",\"value\":\"Unirest.setTimeouts(0, 0);\\nHttpResponse<String> response = Unirest.post(\\\"https://open.admin.uat.shopee.io/api/v2/payment/get_billing_transaction_info?access_token=access_token&partner_id=partner_id&shop_id=shop_id&sign=sign&timestamp=timestamp\\\")\\n.header(\\\"Content-Type\\\",\\\"application/json\\\")\\n.body(\\\"{\\n   \\\\\\\"billing_transaction_info_type\\\\\\\": 1,\\n   \\\\\\\"cursor\\\\\\\": \\\\\\\"\\\\\\\\\\\"\\\\\\\\\\\"\\\\\\\",\\n   \\\\\\\"encrypted_payout_ids\\\\\\\": [\\n      \\\\\\\"10376329180766\\\\\\\",\\n      \\\\\\\"637926329180767\\\\\\\"\\n   ],\\n   \\\\\\\"page_size\\\\\\\": 100\\n}\\\")\\n.asString();\"},{\"type\":\"PHP\",\"value\":\"<?php\\n\\n$curl = curl_init();\\n\\ncurl_setopt_array($curl, array(\\n  CURLOPT_URL => 'https://open.admin.uat.shopee.io/api/v2/payment/get_billing_transaction_info?access_token=access_token&partner_id=partner_id&shop_id=shop_id&sign=sign&timestamp=timestamp',\\n  CURLOPT_RETURNTRANSFER => true,\\n  CURLOPT_ENCODING => '',\\n  CURLOPT_MAXREDIRS => 10,\\n  CURLOPT_TIMEOUT => 0,\\n  CURLOPT_FOLLOWLOCATION => true,\\n  CURLOPT_HTTP_VERSION => CURL_HTTP_VERSION_1_1,\\n  CURLOPT_CUSTOMREQUEST => 'POST',\\n  CURLOPT_POSTFIELDS => '{\\n    \\\"billing_transaction_info_type\\\": 1,\\n    \\\"cursor\\\": \\\"\\\\\\\\\\\"\\\\\\\\\\\"\\\",\\n    \\\"encrypted_payout_ids\\\": [\\n        \\\"10376329180766\\\",\\n        \\\"637926329180767\\\"\\n    ],\\n    \\\"page_size\\\": 100\\n}',\\n  CURLOPT_HTTPHEADER => array(\\n    'Content-Type: application/json'\\n  ),\\n));\\n\\n$response = curl_exec($curl);\\n\\ncurl_close($curl);\\necho $response;\\n\"},{\"type\":\"cURL\",\"value\":\"curl --location --request POST 'https://open.admin.uat.shopee.io/api/v2/payment/get_billing_transaction_info?access_token=access_token&partner_id=partner_id&shop_id=shop_id&sign=sign&timestamp=timestamp' \\\\\\n--header 'Content-Type: application/json' \\\\\\n--data-raw '{\\n   \\\"billing_transaction_info_type\\\": 1,\\n   \\\"cursor\\\": \\\"\\\\\\\"\\\\\\\"\\\",\\n   \\\"encrypted_payout_ids\\\": [\\n      \\\"10376329180766\\\",\\n      \\\"637926329180767\\\"\\n   ],\\n   \\\"page_size\\\": 100\\n}'\\n\"},{\"type\":\"Python\",\"value\":\"import requests\\nimport json\\n\\nurl = \\\"https://open.admin.uat.shopee.io/api/v2/payment/get_billing_transaction_info?access_token=access_token&partner_id=partner_id&shop_id=shop_id&sign=sign&timestamp=timestamp\\\"\\n\\npayload=json.dumps({\\n  \\\"billing_transaction_info_type\\\": 1,\\n  \\\"cursor\\\": \\\"\\\\\\\"\\\\\\\"\\\",\\n  \\\"encrypted_payout_ids\\\": [\\n    \\\"10376329180766\\\",\\n    \\\"637926329180767\\\"\\n  ],\\n  \\\"page_size\\\": 100\\n})\\nheaders = {\\n  'Content-Type': 'application/json'\\n}\\nresponse = requests.RPCRequest(\\\"POST\\\",url,headers=headers, data=payload, allow_redirects=False)\\n\\nprint(response.text)\\n\"}]",
  "response_sample": "[{\"type\":\"JSON\",\"value\":\"{\\n    \\\"response\\\": {\\n        \\\"transactions\\\": [\\n            {\\n                \\\"amount\\\": -594.78,\\n                \\\"currency\\\": \\\"SGD\\\",\\n                \\\"order_sn\\\": \\\"230712RFB30UES\\\",\\n                \\\"cost_header\\\": \\\"Refund Amount\\\",\\n                \\\"scenario\\\": \\\"Return Refund After Order Completed\\\",\\n                \\\"remark\\\": \\\"Deduction on return refund requests raised after order is completed\\\",\\n                \\\"level\\\": \\\"ORDER\\\",\\n                \\\"billing_transaction_type\\\": \\\"ADJUSTMENT\\\",\\n                \\\"billing_transaction_status\\\": \\\"RELEASED\\\"\\n            }\\n        ],\\n        \\\"more\\\": false,\\n        \\\"next_cursor\\\": \\\"\\\"\\n    },\\n    \\\"error\\\": \\\"\\\",\\n    \\\"message\\\": \\\"\\\",\\n    \\\"request_id\\\": \\\"dec735be0923db4f300912f713010900\\\"\\n}\"}]",
  "status": 1,
  "tag": "",
  "test_url": "https://partner.test-stable.shopeemobile.com/api/v2/payment/get_billing_transaction_info",
  "update_log_list": [
    {
      "date": "2024-01-02",
      "content": "New API"
    }
  ],
  "url": "https://partner.shopeemobile.com/api/v2/payment/get_billing_transaction_info",
  "version": "",
  "error_example": "[{\"type\":\"JSON\",\"value\":\"{\\n    \\\"error\\\": \\\"error_param\\\",\\n    \\\"message\\\": \\\"shop_id is required\\\",\\n    \\\"request_id\\\": \\\"542a76d70923dd7d25f92936088b2800\\\"\\n}\"}]",
  "api_permission": [
    "ERP System",
    "Seller In House System",
    "Accounting And Finance",
    "Swam ERP"
  ],
  "path": "/api/v2/payment/get_billing_transaction_info"
}