{
  "api_id": 2840,
  "api_name": "v2.logistics.update_self_collection_order_logistics",
  "api_type": "Shop",
  "common_params": "[{\"name\":\"partner_id\",\"type\":\"int\",\"sample\":\"1\",\"description\":\"Partner ID is assigned upon registration is successful. Required for all requests.\"},{\"name\":\"timestamp\",\"type\":\"timestamp\",\"sample\":\"1610000000\",\"description\":\"This is to indicate the timestamp of the request. Required for all requests. Expires in 5 minutes.\"},{\"name\":\"access_token\",\"type\":\"string\",\"sample\":\"c09222e3fc40ffb25fc947f738b1abf1\",\"description\":\"The token for API access, using to identify your permission to the api. Valid for multiple use and expires in 4 hours.\"},{\"name\":\"shop_id\",\"type\":\"int\",\"sample\":\"600000\",\"description\":\"Shopee's unique identifier for a shop. Required param for most APIs.\"},{\"name\":\"sign\",\"type\":\"string\",\"sample\":\"e318d3e932719916a9f9ebb57e2011961bd47abfa54a36e040d050d8931596e2\",\"description\":\"Signature generated by partner_id, api path, timestamp, access_token, shop_id and partner_key via HMAC-SHA256 hashing algorithm. More details: <a href= https://open.shopee.com/documents?module=87&type=2&id=58&version=2> https://open.shopee.com/documents?module=87&type=2&id=58&version=2</a>\"}]",
  "define": "Use this api to update the order status for buyer to collect the orders directly from your pharmacy. This includes indicating that order is ready for collection, and that the order has been picked up by the buyer. You should call v2.logistics.get_order_detail or v2.logistics.get_package_detail first to get the package_number of such orders.",
  "error_list": [
    {
      "name": "logistics.not_available_for_self_collection",
      "description": "Buyer self collection unavailable for this order"
    },
    {
      "name": "logistics.not_ready_for_self_collection",
      "description": "Parcel is not ready for collection yet"
    },
    {
      "name": "logistics.self_collect_outbound_failed",
      "description": "Prepare order for buyer collection"
    }
  ],
  "errors": "",
  "gateway_api_id": 0,
  "is_get_method": 0,
  "method": 1,
  "module_id": 95,
  "module_name": "Logistics",
  "params": "{\"request_params\":[{\"description\":\"<p>Shopee's unique identifier for the package under an order.</p>\",\"name\":\"package_number\",\"sample\":\"OFG211171863281841\",\"type\":\"string\",\"required\":\"True\",\"key\":\"yYDBXe\"},{\"description\":\"<p>Order logistics action. available values:</p><p>- ready_for_collection</p><p>- order_collected</p>\",\"name\":\"self_collection_logistics_action\",\"sample\":\"order_collected\",\"type\":\"string\",\"required\":\"True\",\"key\":\"BXFzcXx\"},{\"description\":\"<p>List of image_id for the proof that buyer already collected the order at the store.&nbsp;</p><p>Required when self_collection_logistics_action is order_collected. Max: 3.</p><p>You can call the v2.media.upload_image to upload image and get the image_id, for this scenario, please pass the business = 1 and scene = 1.</p>\",\"name\":\"epoc_image_list\",\"sample\":\"[\\\"id-11134284-7r98o-mef6xcoiw1nt15\\\"]\",\"type\":\"string[]\",\"required\":\"False\",\"key\":\"nYwWmRt\"}],\"response_params\":[{\"description\":\"<p>Indicate error type if hit error. Empty if no error happened.<br /></p>\",\"name\":\"error\",\"sample\":\"error_auth\",\"type\":\"string\",\"required\":null,\"key\":\"NDhYhDi\"},{\"description\":\"<p>Indicate error details if hit error. Empty if no error happened.<br /></p>\",\"name\":\"message\",\"sample\":\"Invalid access_token.\",\"type\":\"string\",\"required\":null,\"key\":\"Eajmisj\"},{\"name\":\"request_id\",\"type\":\"string\",\"sample\":\"3dad66f43b8447d282ae6da36626c6b7\",\"description\":\"<p>The identifier for an API request for error tracking.<br /></p>\",\"key\":\"ZmStEMZ\"}]}",
  "perm_mtime": 1758596495,
  "perm_operator": "caixia.tu@shopee.com",
  "perm_type": 1,
  "perm_upload_file_name": "",
  "priority": 80654,
  "rate_limit": "",
  "request_sample": "[{\"type\":\"Payload\",\"value\":\"{\\n\\t\\\"package_number\\\": \\\"OFG211171863281841\\\",\\n\\t\\\"self_collection_logistics_action\\\": \\\"order_collected\\\",\\n\\t\\\"epoc_image_list\\\": [\\n\\t\\t\\\"id-11134284-7r98o-mef6xcoiw1nt15\\\"\\n\\t]\\n}\"},{\"type\":\"Java\",\"value\":\"Unirest.setTimeouts(0, 0);\\nHttpResponse<String> response = Unirest.post(\\\"https://partner.shopeemobile.com/api/v2/logistics/update_self_collection_order_logistics?access_token=access_token&partner_id=partner_id&shop_id=shop_id&sign=sign&timestamp=timestamp\\\")\\n.header(\\\"Content-Type\\\",\\\"application/json\\\")\\n.body(\\\"{\\n   \\\\\\\"epoc_image_list\\\\\\\": [\\n      \\\\\\\"id-11134284-7r98o-mef6xcoiw1nt15\\\\\\\"\\n   ],\\n   \\\\\\\"package_number\\\\\\\": \\\\\\\"OFG211171863281841\\\\\\\",\\n   \\\\\\\"self_collection_logistics_action\\\\\\\": \\\\\\\"order_collected\\\\\\\"\\n}\\\")\\n.asString();\"},{\"type\":\"PHP\",\"value\":\"<?php\\n\\n$curl = curl_init();\\n\\ncurl_setopt_array($curl, array(\\n  CURLOPT_URL => 'https://partner.shopeemobile.com/api/v2/logistics/update_self_collection_order_logistics?access_token=access_token&partner_id=partner_id&shop_id=shop_id&sign=sign&timestamp=timestamp',\\n  CURLOPT_RETURNTRANSFER => true,\\n  CURLOPT_ENCODING => '',\\n  CURLOPT_MAXREDIRS => 10,\\n  CURLOPT_TIMEOUT => 0,\\n  CURLOPT_FOLLOWLOCATION => true,\\n  CURLOPT_HTTP_VERSION => CURL_HTTP_VERSION_1_1,\\n  CURLOPT_CUSTOMREQUEST => 'POST',\\n  CURLOPT_POSTFIELDS => '{\\n    \\\"epoc_image_list\\\": [\\n        \\\"id-11134284-7r98o-mef6xcoiw1nt15\\\"\\n    ],\\n    \\\"package_number\\\": \\\"OFG211171863281841\\\",\\n    \\\"self_collection_logistics_action\\\": \\\"order_collected\\\"\\n}',\\n  CURLOPT_HTTPHEADER => array(\\n    'Content-Type: application/json'\\n  ),\\n));\\n\\n$response = curl_exec($curl);\\n\\ncurl_close($curl);\\necho $response;\\n\"},{\"type\":\"cURL\",\"value\":\"curl --location --request POST 'https://partner.shopeemobile.com/api/v2/logistics/update_self_collection_order_logistics?access_token=access_token&partner_id=partner_id&shop_id=shop_id&sign=sign&timestamp=timestamp' \\\\\\n--header 'Content-Type: application/json' \\\\\\n--data-raw '{\\n   \\\"epoc_image_list\\\": [\\n      \\\"id-11134284-7r98o-mef6xcoiw1nt15\\\"\\n   ],\\n   \\\"package_number\\\": \\\"OFG211171863281841\\\",\\n   \\\"self_collection_logistics_action\\\": \\\"order_collected\\\"\\n}'\\n\"},{\"type\":\"Python\",\"value\":\"import requests\\nimport json\\n\\nurl = \\\"https://partner.shopeemobile.com/api/v2/logistics/update_self_collection_order_logistics?access_token=access_token&partner_id=partner_id&shop_id=shop_id&sign=sign&timestamp=timestamp\\\"\\n\\npayload=json.dumps({\\n  \\\"epoc_image_list\\\": [\\n    \\\"id-11134284-7r98o-mef6xcoiw1nt15\\\"\\n  ],\\n  \\\"package_number\\\": \\\"OFG211171863281841\\\",\\n  \\\"self_collection_logistics_action\\\": \\\"order_collected\\\"\\n})\\nheaders = {\\n  'Content-Type': 'application/json'\\n}\\nresponse = requests.RPCRequest(\\\"POST\\\",url,headers=headers, data=payload, allow_redirects=False)\\n\\nprint(response.text)\\n\"}]",
  "response_sample": "[{\"type\":\"JSON\",\"value\":\"{\\n\\t\\\"error\\\": \\\"logistics.not_available_for_self_collection\\\",\\n\\t\\\"message\\\": \\\"Buyer self collection unavailable for this order\\\",\\n\\t\\\"request_id\\\": \\\"3dad66f43b8447d282ae6da36626c6b7\\\"\\n}\"}]",
  "status": 1,
  "tag": "",
  "test_url": "https://partner.test-stable.shopeemobile.com/api/v2/logistics/update_self_collection_order_logistics",
  "update_log_list": [
    {
      "date": "2025-09-18",
      "content": "New API"
    }
  ],
  "url": "https://partner.shopeemobile.com/api/v2/logistics/update_self_collection_order_logistics",
  "version": "",
  "error_example": "[{\"type\":\"JSON\",\"value\":\"{\\n\\t\\\"error\\\": \\\"error_auth\\\",\\n\\t\\\"message\\\": \\\"Invalid access_token.\\\",\\n\\t\\\"request_id\\\": \\\"3dad66f43b8447d282ae6da36626c6b7\\\"\\n}\"}]",
  "api_permission": [
    "ERP System",
    "Seller In House System",
    "Order Management"
  ],
  "path": "/api/v2/logistics/update_self_collection_order_logistics"
}