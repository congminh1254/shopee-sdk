{
  "api_id": 2180,
  "api_name": "v2.logistics.get_booking_shipping_parameter",
  "api_type": "Shop",
  "common_params": "[{\"name\":\"partner_id\",\"type\":\"int\",\"sample\":\"1\",\"description\":\"Partner ID is assigned upon registration is successful. Required for all requests.\"},{\"name\":\"timestamp\",\"type\":\"timestamp\",\"sample\":\"1610000000\",\"description\":\"This is to indicate the timestamp of the request. Required for all requests. Expires in 5 minutes.\"},{\"name\":\"access_token\",\"type\":\"string\",\"sample\":\"c09222e3fc40ffb25fc947f738b1abf1\",\"description\":\"The token for API access, using to identify your permission to the api. Valid for multiple use and expires in 4 hours.\"},{\"name\":\"shop_id\",\"type\":\"int\",\"sample\":\"600000\",\"description\":\"Shopee's unique identifier for a shop. Required param for most APIs.\"},{\"name\":\"sign\",\"type\":\"string\",\"sample\":\"e318d3e932719916a9f9ebb57e2011961bd47abfa54a36e040d050d8931596e2\",\"description\":\"Signature generated by partner_id, api path, timestamp, access_token, shop_id and partner_key via HMAC-SHA256 hashing algorithm. More details: <a href= https://open.shopee.com/documents?module=87&type=2&id=58&version=2> https://open.shopee.com/documents?module=87&type=2&id=58&version=2</a>\"}]",
  "define": "Use this api to get the parameter \"info_needed\" from the response to check if the booking has pickup or dropoff. This api will also return the addresses and pickup time id options for the pickup method. For dropoff, it can return branch id, sender real name etc, depending on the 3PL requirements.",
  "error_list": [
    {
      "name": "error_data",
      "description": "parse data failed"
    },
    {
      "name": "error_data",
      "description": "data not exist"
    },
    {
      "name": "error_param",
      "description": "parameter invalid"
    },
    {
      "name": "error_param",
      "description": "The information you queried is not found."
    },
    {
      "name": "error_param",
      "description": "Wrong parameters, detail: {msg}."
    },
    {
      "name": "error_server",
      "description": "Something wrong. Please try later.\t"
    },
    {
      "name": "error_shop",
      "description": "shopid is invalid"
    },
    {
      "name": "error_param",
      "description": "request not from gateway"
    }
  ],
  "errors": "",
  "gateway_api_id": 0,
  "is_get_method": 0,
  "method": 2,
  "module_id": 95,
  "module_name": "Logistics",
  "params": "{\"request_params\":[{\"description\":\"<p>Shopee's unique identifier for a booking.<br /></p>\",\"name\":\"booking_sn\",\"sample\":\"201214JASXYXY6\",\"type\":\"string\",\"required\":\"True\",\"key\":\"MGSpamf\"}],\"response_params\":[{\"name\":\"request_id\",\"type\":\"string\",\"sample\":\"2880a5a28510424eaa3288fd941fae2c\",\"description\":\"<p>The identifier for an API request for error tracking.<br /></p>\",\"key\":\"HpxHRs\"},{\"description\":\"<p>Indicate error type if hit error. Empty if no error happened.<br /></p>\",\"name\":\"error\",\"sample\":\"error_auth\",\"type\":\"string\",\"required\":null,\"key\":\"ttPMdMX\"},{\"description\":\"\",\"name\":\"message\",\"sample\":\"Invalid access_token.\",\"type\":\"string\",\"required\":null,\"key\":\"zYbJfPx\"},{\"description\":\"<p>Detail information you are querying.<br /></p>\",\"name\":\"response\",\"sample\":\"\",\"type\":\"object\",\"required\":null,\"key\":\"WbkrBQZ\",\"children\":[{\"description\":\"<p>The parameters required based on each specific booking to Init. Must use the fields included under info_needed to call Init.<br /></p>\",\"name\":\"info_needed\",\"sample\":\"\",\"type\":\"object\",\"required\":null,\"key\":\"bwhjXi\",\"children\":[{\"description\":\"<p>Could contain 'branch_id', 'sender_real_name' or 'tracking_no'. If it contains 'branch_id', choose one to Init. If it contains 'sender_real_name' or 'tracking_no', should manually input these values in Init API. If it has empty value, developer should still include \\\"dropoff\\\" field in Init API.<br /></p>\",\"name\":\"dropoff\",\"sample\":\"[ ]\",\"type\":\"string[]\",\"required\":null,\"key\":\"QZBfWNQ\"},{\"description\":\"<p>Could contain 'address_id' and 'pickup_time_id'. Choose one address_id and its corresponding pickup_time_id to Init. If it has empty value, developer should still include \\\"pickup\\\" field in Init API.It could contains \\\"tracking_number\\\" returned from \\\"info_need\\\"for some channels, please also add it when init.<br /></p>\",\"name\":\"pickup\",\"sample\":\"[\\\"address_id\\\", \\\"pickup_time_id\\\"]\",\"type\":\"string[]\",\"required\":null,\"key\":\"bzDainM\"}]},{\"description\":\"<p>Logistics information for pickup mode booking.<br /></p>\",\"name\":\"pickup\",\"sample\":\"\",\"type\":\"object\",\"required\":null,\"key\":\"bZmYdke\",\"children\":[{\"description\":\"<p>List of available pickup address info.<br /></p>\",\"name\":\"address_list\",\"sample\":\"\",\"type\":\"object[]\",\"required\":null,\"key\":\"KHpfKDy\",\"children\":[{\"description\":\"<p>The identity of address.<br /></p>\",\"name\":\"address_id\",\"sample\":\"234\",\"type\":\"int64\",\"required\":null,\"key\":\"QYrCrGx\"},{\"description\":\"<p>The region of specify address.<br /></p>\",\"name\":\"region\",\"sample\":\"SG\",\"type\":\"string\",\"required\":null,\"key\":\"kazaHcT\"},{\"description\":\"<p>The state of specify address.<br /></p>\",\"name\":\"state\",\"sample\":\"Sarawak\",\"type\":\"string\",\"required\":null,\"key\":\"paNefFj\"},{\"description\":\"<p>The city of specify address.<br /></p>\",\"name\":\"city\",\"sample\":\"\",\"type\":\"string\",\"required\":null,\"key\":\"BGfTTJ\"},{\"description\":\"<p>The district of specify address.<br /></p>\",\"name\":\"district\",\"sample\":\"\",\"type\":\"string\",\"required\":null,\"key\":\"kxTMSRE\"},{\"description\":\"<p>The town of specify address.<br /></p>\",\"name\":\"town\",\"sample\":\"haha\",\"type\":\"string\",\"required\":null,\"key\":\"zFCQMyi\"},{\"description\":\"<p>The address description of specify address.<br /></p>\",\"name\":\"address\",\"sample\":\"\",\"type\":\"string\",\"required\":null,\"key\":\"zMhrNhX\"},{\"description\":\"<p>The zipcode of specify address.<br /></p>\",\"name\":\"zipcode\",\"sample\":\"50003\",\"type\":\"string\",\"required\":null,\"key\":\"ZFWybJD\"},{\"description\":\"<p>The flag of shop address, applicable values: default_address, pickup_address, return_address, current_address(only for multi-warehouse sellers)<br /></p>\",\"name\":\"address_flag\",\"sample\":\"\",\"type\":\"string[]\",\"required\":null,\"key\":\"RmDZzib\"},{\"description\":\"<p>List of pickup_time information corresponding to the address_id.<br /></p><p><br /></p><p>Some logistics channels may not return any date or time for pickup time slots. In such cases, sellers can arrange shipment without selecting any time slot, and Shopee will arrange a suitable timing for these situations.</p>\",\"name\":\"time_slot_list\",\"sample\":\"\",\"type\":\"object[]\",\"required\":null,\"key\":\"xcBEmFs\",\"children\":[{\"description\":\"<p>The date of pickup time. In timestamp.<br /></p>\",\"name\":\"date\",\"sample\":\"\",\"type\":\"timestamp\",\"required\":null,\"key\":\"XwzAFYt\"},{\"description\":\"<p>The text description of pickup time. Only applicable for certain channels.<br /></p>\",\"name\":\"time_text\",\"sample\":\"\",\"type\":\"string\",\"required\":null,\"key\":\"BMENzda\"},{\"description\":\"<p>The identity of pickuptime.<br /></p>\",\"name\":\"pickup_time_id\",\"sample\":\"\",\"type\":\"string\",\"required\":null,\"key\":\"GBsFkJM\"},{\"description\":\"<p>This field will have the value&nbsp;<font color=\\\"#c24f4a\\\"><b>“recommended”</b></font>&nbsp;for the time slot that Shopee suggests sellers choose.&nbsp;</p><p><br /></p><p>While it is advisable for sellers to choose the recommended time slot, they can also choose other time slots that do not have the recommended flag.</p>\",\"name\":\"flags\",\"sample\":\"[\\\"recommended\\\"]\",\"type\":\"string[]\",\"required\":null,\"key\":\"NZfrztR\"},{\"description\":\"<p>return if error getting pickup time, otherwise omitted<br /></p>\",\"name\":\"error\",\"sample\":\"\",\"type\":\"string\",\"required\":null,\"key\":\"QMcEMrN\"},{\"description\":\"<p>return if error getting pickup time, otherwise omitted<br /></p>\",\"name\":\"msg\",\"sample\":\"\",\"type\":\"string\",\"required\":null,\"key\":\"iHfjhwH\"}]}]}]}]}]}",
  "perm_mtime": 1736507260,
  "perm_operator": "caixia.tu@shopee.com",
  "perm_type": 1,
  "perm_upload_file_name": "",
  "priority": 26,
  "rate_limit": "",
  "request_sample": "[{\"type\":\"Java\",\"value\":\"Unirest.setTimeouts(0, 0);\\nHttpResponse<String> response = Unirest.get(\\\"https://open.admin.uat.shopee.io/api/v2/logistics/get_booking_shipping_parameter?access_token=access_token&booking_sn=201214JASXYXY6&partner_id=partner_id&shop_id=shop_id&sign=sign&timestamp=timestamp\\\")\\n.asString();\"},{\"type\":\"PHP\",\"value\":\"<?php\\n\\n$curl = curl_init();\\n\\ncurl_setopt_array($curl, array(\\n  CURLOPT_URL => 'https://open.admin.uat.shopee.io/api/v2/logistics/get_booking_shipping_parameter?access_token=access_token&booking_sn=201214JASXYXY6&partner_id=partner_id&shop_id=shop_id&sign=sign&timestamp=timestamp',\\n  CURLOPT_RETURNTRANSFER => true,\\n  CURLOPT_ENCODING => '',\\n  CURLOPT_MAXREDIRS => 10,\\n  CURLOPT_TIMEOUT => 0,\\n  CURLOPT_FOLLOWLOCATION => true,\\n  CURLOPT_HTTP_VERSION => CURL_HTTP_VERSION_1_1,\\n  CURLOPT_CUSTOMREQUEST => 'GET',\\n  CURLOPT_HTTPHEADER => array(\\n    'Content-Type: application/json'\\n  ),\\n));\\n\\n$response = curl_exec($curl);\\n\\ncurl_close($curl);\\necho $response;\\n\"},{\"type\":\"cURL\",\"value\":\"curl --location --request GET 'https://open.admin.uat.shopee.io/api/v2/logistics/get_booking_shipping_parameter?access_token=access_token&booking_sn=201214JASXYXY6&partner_id=partner_id&shop_id=shop_id&sign=sign&timestamp=timestamp' \"},{\"type\":\"Python\",\"value\":\"import requests\\n\\nurl = \\\"https://open.admin.uat.shopee.io/api/v2/logistics/get_booking_shipping_parameter?access_token=access_token&booking_sn=201214JASXYXY6&partner_id=partner_id&shop_id=shop_id&sign=sign&timestamp=timestamp\\\"\\n\\npayload={}\\nheaders = {\\n\\n}\\nresponse = requests.RPCRequest(\\\"GET\\\",url,headers=headers, data=payload, allow_redirects=False)\\n\\nprint(response.text)\\n\"}]",
  "response_sample": "[{\"type\":\"JSON\",\"value\":\"{\\n\\t\\\"request_id\\\": \\\"2880a5a28510424eaa3288fd941fae2c\\\",\\n\\t\\\"error\\\": \\\"error_auth\\\",\\n\\t\\\"message\\\": \\\"Invalid access_token.\\\",\\n\\t\\\"response\\\": {\\n\\t\\t\\\"info_needed\\\": {\\n\\t\\t\\t\\\"dropoff\\\": [],\\n\\t\\t\\t\\\"pickup\\\": [\\n\\t\\t\\t\\t\\\"address_id\\\",\\n\\t\\t\\t\\t\\\"pickup_time_id\\\"\\n\\t\\t\\t]\\n\\t\\t},\\n\\t\\t\\\"pickup\\\": {\\n\\t\\t\\t\\\"address_list\\\": [\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\\"region\\\": \\\"SG\\\",\\n\\t\\t\\t\\t\\t\\\"state\\\": \\\"Sarawak\\\",\\n\\t\\t\\t\\t\\t\\\"city\\\": \\\"-\\\",\\n\\t\\t\\t\\t\\t\\\"district\\\": \\\"-\\\",\\n\\t\\t\\t\\t\\t\\\"town\\\": \\\"haha\\\",\\n\\t\\t\\t\\t\\t\\\"address\\\": \\\"-\\\",\\n\\t\\t\\t\\t\\t\\\"zipcode\\\": \\\"50003\\\",\\n\\t\\t\\t\\t\\t\\\"address_flag\\\": [\\n\\t\\t\\t\\t\\t\\t\\\"-\\\"\\n\\t\\t\\t\\t\\t],\\n\\t\\t\\t\\t\\t\\\"time_slot_list\\\": [\\n\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\t\\\"date\\\": 1718341672250,\\n\\t\\t\\t\\t\\t\\t\\t\\\"time_text\\\": \\\"-\\\",\\n\\t\\t\\t\\t\\t\\t\\t\\\"pickup_time_id\\\": \\\"-\\\",\\n\\t\\t\\t\\t\\t\\t\\t\\\"error\\\": \\\"-\\\",\\n\\t\\t\\t\\t\\t\\t\\t\\\"msg\\\": \\\"-\\\"\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t]\\n\\t\\t\\t\\t}\\n\\t\\t\\t]\\n\\t\\t}\\n\\t}\\n}\"}]",
  "status": 1,
  "tag": "",
  "test_url": "https://partner.test-stable.shopeemobile.com/api/v2/logistics/get_booking_shipping_parameter",
  "update_log_list": [
    {
      "date": "2025-03-24",
      "content": "Add “flags” response parameter under time_slot_list"
    },
    {
      "date": "2024-07-02",
      "content": "New API"
    }
  ],
  "url": "https://partner.shopeemobile.com/api/v2/logistics/get_booking_shipping_parameter",
  "version": "",
  "error_example": "[{\"type\":\"JSON\",\"value\":\"{\\n   \\\"error\\\": \\\"error_server\\\",\\n   \\\"message\\\": \\\"System error. Please try again later.\\\",\\n   \\\"request_id\\\": \\\"3aed6e1a6d8f4409ac3db19f893261a4\\\"\\n}\"}]",
  "api_permission": [
    "ERP System",
    "Seller In House System",
    "Order Management",
    "Swam ERP"
  ],
  "path": "/api/v2/logistics/get_booking_shipping_parameter"
}