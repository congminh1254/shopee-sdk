{
  "api_id": 647,
  "api_name": "v2.product.update_tier_variation",
  "api_type": "Shop",
  "common_params": "[{\"name\":\"partner_id\",\"type\":\"int\",\"sample\":\"1\",\"description\":\"Partner ID is assigned upon registration is successful. Required for all requests.\"},{\"name\":\"timestamp\",\"type\":\"timestamp\",\"sample\":\"1610000000\",\"description\":\"This is to indicate the timestamp of the request. Required for all requests. Expires in 5 minutes.\"},{\"name\":\"access_token\",\"type\":\"string\",\"sample\":\"c09222e3fc40ffb25fc947f738b1abf1\",\"description\":\"The token for API access, using to identify your permission to the api. Valid for multiple use and expires in 4 hours.\"},{\"name\":\"shop_id\",\"type\":\"int\",\"sample\":\"600000\",\"description\":\"Shopee's unique identifier for a shop. Required param for most APIs.\"},{\"name\":\"sign\",\"type\":\"string\",\"sample\":\"e318d3e932719916a9f9ebb57e2011961bd47abfa54a36e040d050d8931596e2\",\"description\":\"Signature generated by partner_id, api path, timestamp, access_token, shop_id and partner_key via HMAC-SHA256 hashing algorithm. More details: <a href= https://open.shopee.com/documents?module=87&type=2&id=58&version=2> https://open.shopee.com/documents?module=87&type=2&id=58&version=2</a>\"}]",
  "define": "This api can only be used without changing the tier structure, you can add options, delete options, and update the option image by this api. More detail please check: https://open.shopee.com/developer-guide/219",
  "error_list": [
    {
      "name": "error_tier_index",
      "description": "The tier_index is not exist"
    },
    {
      "name": "error_duplicate_modelid",
      "description": "The model_id is duplicate, model_id:{{.model_id}}"
    },
    {
      "name": "product.error_busi",
      "description": "The GTIN code is mandatory, please check and upload again."
    },
    {
      "name": "error_wrong_modelid",
      "description": "The model_id is wrong or not related to this item, model_id:{{.model_id}}"
    },
    {
      "name": "error_param",
      "description": "There is no access_token in query."
    },
    {
      "name": "error_auth",
      "description": "Invalid access_token."
    },
    {
      "name": "error_param",
      "description": "Invalid partner_id."
    },
    {
      "name": "error_param",
      "description": "There is no partner_id in query."
    },
    {
      "name": "error_auth",
      "description": "No permission to current api."
    },
    {
      "name": "error_param",
      "description": "There is no sign in query."
    },
    {
      "name": "error_sign",
      "description": "Wrong sign."
    },
    {
      "name": "error_param",
      "description": "no timestamp"
    },
    {
      "name": "error_param",
      "description": "Invalid timestamp"
    },
    {
      "name": "error_network",
      "description": "Inner http call failed"
    },
    {
      "name": "error_data",
      "description": "parse data failed"
    },
    {
      "name": "error_data",
      "description": "data not exist"
    },
    {
      "name": "error_param",
      "description": "parameter invalid"
    },
    {
      "name": "error_param",
      "description": "The information you queried is not found."
    },
    {
      "name": "error_param",
      "description": "Wrong parameters, detail: {msg}."
    },
    {
      "name": "error_server",
      "description": "Something wrong. Please try later.\t"
    },
    {
      "name": "error_shop",
      "description": "shopid is invalid"
    },
    {
      "name": "error_param",
      "description": "request not from gateway"
    },
    {
      "name": "error_auth_model_is_pff",
      "description": "Item/Model Fulfillment by Shopee  can not be update."
    },
    {
      "name": "error_item_not_belong_shop",
      "description": "Item not belong to shop."
    },
    {
      "name": "error_param_shop_id_not_found",
      "description": "Shop_id is not found."
    },
    {
      "name": "error_param",
      "description": "Canot change the level of tier-variation."
    },
    {
      "name": "error_param",
      "description": "Model tier_index error."
    },
    {
      "name": "error_param",
      "description": "Image not exist."
    },
    {
      "name": "error_param",
      "description": "Count of tier_variation options should be under 50. Count of 2-level variations combinations should be under 50."
    },
    {
      "name": "error_busi_cannot_delete_all_model",
      "description": "Cannot delete all models by this api."
    },
    {
      "name": "error_tier_var_level_not_same",
      "description": "Item tier-variation level not same"
    },
    {
      "name": "error_tier_var_is_",
      "description": "Item without tier-variation. Please use init_tier_variation api to upgrade the structure."
    },
    {
      "name": "error_inner",
      "description": "Our system is taking some time to respond, please try later."
    },
    {
      "name": "error_inner",
      "description": "System error, please try again later or contact the OpenAPI support team."
    },
    {
      "name": "error_unknown",
      "description": "{{.error_info}}"
    },
    {
      "name": "error_item_not_found",
      "description": "Product not found"
    },
    {
      "name": "error_inner",
      "description": "Update item failed {{.error_info}}"
    },
    {
      "name": "error_inner",
      "description": "Update item failed {{.error_info}}"
    },
    {
      "name": "error_inner",
      "description": "System error, please try again later or contact the OpenAPI support team."
    },
    {
      "name": "error_inner",
      "description": "System error, please try again later or contact the OpenAPI support team."
    },
    {
      "name": "error_auth",
      "description": "The current item belong to the full FBS or B2C shop, so normal stock must be equal to 0"
    },
    {
      "name": "error_busi_cannot_edit_vsku",
      "description": "Can not use OpenAPI to edit/create VSKU, please connect with your manager"
    },
    {
      "name": "error_auth",
      "description": "Your shop can not use model level dts"
    },
    {
      "name": "error_busi",
      "description": "The merchant/shop has multi warehouse, please input location id"
    },
    {
      "name": "error_param",
      "description": "Invalid parameter for product."
    },
    {
      "name": "error_system_busy",
      "description": "Our system is taking some time to respond, please try later."
    },
    {
      "name": "error_item_or_variation_not_found",
      "description": "Item or model doesn't exist."
    },
    {
      "name": "error_seller_under_penalty",
      "description": "The shop is under penalty."
    },
    {
      "name": "error_nil_shopid_or_itemid",
      "description": "Query information failed."
    },
    {
      "name": "error_perm_non_admin",
      "description": "Don't have permission."
    },
    {
      "name": "error_price_exceed_min_limitt",
      "description": "Original_price is less than min price limit."
    },
    {
      "name": "error_price_exceed_max_limitt",
      "description": "Original_price is bigger than max price limit."
    },
    {
      "name": "error_wholesale_price_less_than_ratio_limit",
      "description": "Wholesale price is less than ratio limit."
    },
    {
      "name": "error_cannt_edit_stock_in_promotion",
      "description": "Normal_stock cannot be edited when item is under promotion."
    },
    {
      "name": "error_cannt_be_no_variation_in_promotion",
      "description": "Item cannot be without model when item is under promotion."
    },
    {
      "name": "error_cannt_delete_option_in_promotion",
      "description": "Option of tier_variation cannot be deleted when item is under promotion."
    },
    {
      "name": "error_cannt_change_tier_variation_in_promotion",
      "description": "Structure of tier_variation cannot be edited when item is under promotion."
    },
    {
      "name": "error_server",
      "description": "Interal error, please contact openapi team."
    },
    {
      "name": "error_tier_var_too_many",
      "description": "Count of tier_variation is larger than 50."
    },
    {
      "name": "error_tier_opt_too_many",
      "description": "Count of tier_variation option is larger than 20."
    },
    {
      "name": "error_tier_opt_val_too_long",
      "description": "{{.error_info}}"
    },
    {
      "name": "error_tier_var_name_too_long",
      "description": "{{.error_info}}"
    },
    {
      "name": "error_tier_img_partial",
      "description": "Interal error, please contact openapi team."
    },
    {
      "name": "error_tier_img_old_app",
      "description": "Interal error, please contact openapi team."
    },
    {
      "name": "error_tier_img_not_allower",
      "description": "Not allowed to update tier-variation image."
    },
    {
      "name": "error_in_item_promotion_remove_model",
      "description": "Can't change tier_variation when item is under promotion."
    },
    {
      "name": "error_price_should_be_same_for_wholesales",
      "description": "All model price should be the same when the item has been set wholesales."
    },
    {
      "name": "error_model_tier_index_level_mismatch_var_level",
      "description": "Item tier_index level mismatch tier variation list level."
    },
    {
      "name": "error_model_count_over_limit",
      "description": "The count of model is too large. Should be under 20 (50 for TW)"
    },
    {
      "name": "error_model_nonempty_itemtier_empty_index",
      "description": "Item tier_index is required."
    },
    {
      "name": "error_model_duplicate_name",
      "description": "Item tier_variation have duplicate name."
    },
    {
      "name": "error_model_duplicate_tier_variation_index",
      "description": "Item have duplicate tier_index."
    }
  ],
  "errors": "",
  "gateway_api_id": 0,
  "is_get_method": 0,
  "method": 1,
  "module_id": 89,
  "module_name": "Product",
  "params": "{\"request_params\":[{\"name\":\"item_id\",\"limits\":\"\",\"required\":\"True\",\"sample\":\"1000\",\"type\":\"int64\",\"description\":\"ID of item.\",\"key\":\"bWzaJj\"},{\"description\":\"<p>Item's model list</p>\",\"name\":\"model_list\",\"sample\":\"\",\"type\":\"object[]\",\"required\":\"False\",\"key\":\"FKSAWkf\",\"children\":[{\"description\":\"<p>ID of model</p>\",\"name\":\"model_id\",\"sample\":\"1002066586922\",\"type\":\"int64\",\"required\":\"True\",\"key\":\"hjrkjZe\"},{\"description\":\"<p>Model's tier_variation</p>\",\"name\":\"tier_index\",\"sample\":\"[1,1]\",\"type\":\"int64[]\",\"required\":\"True\",\"key\":\"KxipsJc\"}]},{\"description\":\"<p>&nbsp;item standardise tier variation<br />&nbsp;There is at least one standardise_tier_variation and&nbsp;tier_variation&nbsp;<br /></p>\",\"name\":\"standardise_tier_variation\",\"sample\":\"\",\"type\":\"object[]\",\"required\":\"False\",\"key\":\"PhafTyb\",\"children\":[{\"description\":\"<p>standardise tier variation ID<br /></p>\",\"name\":\"variation_id\",\"sample\":\"\",\"type\":\"int64\",\"required\":\"True\",\"key\":\"yxZsEZw\"},{\"description\":\"<p>standardise tier variation name<br /></p>\",\"name\":\"variation_name\",\"sample\":\"\",\"type\":\"string\",\"required\":\"False\",\"key\":\"jdRpJQw\"},{\"description\":\"<p>standardise tier variation group id<br /></p>\",\"name\":\"variation_group_id\",\"sample\":\"\",\"type\":\"int64\",\"required\":\"False\",\"key\":\"dtsGPPf\"},{\"description\":\"<p>standardise tier variation option list<br /></p>\",\"name\":\"variation_option_list\",\"sample\":\"\",\"type\":\"object[]\",\"required\":\"True\",\"key\":\"bAKnswM\",\"children\":[{\"description\":\"<p>standardise tier variation option ID<br /></p>\",\"name\":\"variation_option_id\",\"sample\":\"\",\"type\":\"int64\",\"required\":\"True\",\"key\":\"jGjfpXY\"},{\"description\":\"<p>standardise tier variation option value<br /></p>\",\"name\":\"variation_option_name\",\"sample\":\"\",\"type\":\"string\",\"required\":\"False\",\"key\":\"zRARdZj\"},{\"description\":\"<p>ID of image</p>\",\"name\":\"image_id\",\"sample\":\"\",\"type\":\"string\",\"required\":\"False\",\"key\":\"Qrwxcmb\"}]}]}],\"response_params\":[{\"sample\":\"\",\"type\":\"string\",\"name\":\"error\",\"description\":\"Indicate error type if hit error. Empty if no error happened.\",\"key\":\"bFyzQiA\"},{\"sample\":\"\",\"type\":\"string\",\"name\":\"message\",\"description\":\"Indicate error details if hit error. Empty if no error happened.\",\"key\":\"hxFHPa\"},{\"sample\":\"\",\"type\":\"string\",\"name\":\"warning\",\"description\":\"Warning message.\",\"key\":\"SZXXDTT\"},{\"sample\":\"\",\"type\":\"string\",\"name\":\"request_id\",\"description\":\"The identifier for an API request for error tracking\",\"key\":\"Ejscspd\"}]}",
  "perm_mtime": 1682591786,
  "perm_operator": "grace.li@shopee.com",
  "perm_type": 1,
  "perm_upload_file_name": "",
  "priority": 13,
  "rate_limit": "[0, 0, 0]",
  "request_sample": "[{\"type\":\"Payload\",\"value\":\"{\\\"item_id\\\":40764494243,\\\"model_list\\\":[{\\\"model_id\\\":276195602326,\\\"tier_index\\\":[0]},{\\\"model_id\\\":276195602327,\\\"tier_index\\\":[1]},{\\\"model_id\\\":276195602328,\\\"tier_index\\\":[2]},{\\\"model_id\\\":276195602329,\\\"tier_index\\\":[3]},{\\\"model_id\\\":276195602330,\\\"tier_index\\\":[4]},{\\\"model_id\\\":276195602331,\\\"tier_index\\\":[5]},{\\\"model_id\\\":276195602332,\\\"tier_index\\\":[6]},{\\\"model_id\\\":276195602333,\\\"tier_index\\\":[7]},{\\\"model_id\\\":276195602334,\\\"tier_index\\\":[8]},{\\\"model_id\\\":276195602335,\\\"tier_index\\\":[9]},{\\\"model_id\\\":276195602336,\\\"tier_index\\\":[10]},{\\\"model_id\\\":276195602337,\\\"tier_index\\\":[11]},{\\\"model_id\\\":276195602338,\\\"tier_index\\\":[12]},{\\\"model_id\\\":276195602339,\\\"tier_index\\\":[13]},{\\\"model_id\\\":276195602340,\\\"tier_index\\\":[14]},{\\\"model_id\\\":276195602341,\\\"tier_index\\\":[15]}],\\\"standardise_tier_variation\\\":[{\\\"variation_id\\\":0,\\\"variation_name\\\":\\\"Warna\\\",\\\"variation_option_list\\\":[{\\\"variation_option_id\\\":0,\\\"variation_option_name\\\":\\\"GSCM A1\\\",\\\"image_id\\\":\\\"id-11134207-7ra0j-mdpqg26q6lawfe\\\"},{\\\"variation_option_id\\\":0,\\\"variation_option_name\\\":\\\"GSCM A2\\\",\\\"image_id\\\":\\\"id-11134207-7ra0o-mdpqg26q7zvcec\\\"},{\\\"variation_option_id\\\":0,\\\"variation_option_name\\\":\\\"GSCM A3\\\",\\\"image_id\\\":\\\"id-11134207-7ra0j-mdpqg26q9efsa1\\\"},{\\\"variation_option_id\\\":0,\\\"variation_option_name\\\":\\\"GSCM A4\\\",\\\"image_id\\\":\\\"id-11134207-7ra0r-mdpqg26qat0874\\\"},{\\\"variation_option_id\\\":0,\\\"variation_option_name\\\":\\\"GSCM A5\\\",\\\"image_id\\\":\\\"id-11134207-7ra0n-mdpqeryrcrovc6\\\"},{\\\"variation_option_id\\\":0,\\\"variation_option_name\\\":\\\"GSCM A6\\\",\\\"image_id\\\":\\\"id-11134207-7ra0o-mdpqeryre69b67\\\"},{\\\"variation_option_id\\\":0,\\\"variation_option_name\\\":\\\"GSCM A7\\\",\\\"image_id\\\":\\\"id-11134207-7ra0o-mdpqeryrfktra9\\\"},{\\\"variation_option_id\\\":0,\\\"variation_option_name\\\":\\\"GSCM A8\\\",\\\"image_id\\\":\\\"id-11134207-7ra0p-mdpqeryrgze7c6\\\"},{\\\"variation_option_id\\\":0,\\\"variation_option_name\\\":\\\"GSCM A9\\\",\\\"image_id\\\":\\\"id-11134207-7ra0h-mdpqeryridyne5\\\"},{\\\"variation_option_id\\\":0,\\\"variation_option_name\\\":\\\"GSCM A10\\\",\\\"image_id\\\":\\\"id-11134207-7ra0u-mdpqeryrjsj36d\\\"},{\\\"variation_option_id\\\":0,\\\"variation_option_name\\\":\\\"GSCM A11\\\",\\\"image_id\\\":\\\"id-11134207-7ra0l-mdpqeryrl73j59\\\"},{\\\"variation_option_id\\\":0,\\\"variation_option_name\\\":\\\"GSCM A12\\\",\\\"image_id\\\":\\\"id-11134207-7ra0i-mdpv3c3tk70s2d\\\"},{\\\"variation_option_id\\\":0,\\\"variation_option_name\\\":\\\"GSCM A13\\\",\\\"image_id\\\":\\\"id-11134207-7ra0l-mdpv3c3tlll891\\\"},{\\\"variation_option_id\\\":0,\\\"variation_option_name\\\":\\\"GSCM A14\\\",\\\"image_id\\\":\\\"id-11134207-7ra0o-mdpv3c3tn05o55\\\"},{\\\"variation_option_id\\\":0,\\\"variation_option_name\\\":\\\"GSCM A15\\\",\\\"image_id\\\":\\\"id-11134207-7ra0l-mdpv3c3toeq4eb\\\"},{\\\"variation_option_id\\\":0,\\\"variation_option_name\\\":\\\"GSCM A16\\\",\\\"image_id\\\":\\\"id-11134207-7ra0i-mdpv3c3tptak60\\\"}]}]}\"},{\"type\":\"Java\",\"value\":\"Unirest.setTimeouts(0, 0);\\nHttpResponse<String> response = Unirest.post(\\\"https://partner.uat.shopeemobile.com/api/v2/product/update_tier_variation?sign=sign&access_token=access_token&timestamp=timestamp&shop_id=shop_id&partner_id=partner_id\\\")\\n.header(\\\"Content-Type\\\",\\\"application/json\\\")\\n.body(\\\"{\\n   \\\\\\\"item_id\\\\\\\": 1000,\\n   \\\\\\\"tier_variation\\\\\\\": [\\n      {\\n         \\\\\\\"name\\\\\\\": \\\\\\\"-\\\\\\\",\\n         \\\\\\\"option_list\\\\\\\": [\\n            {\\n               \\\\\\\"image\\\\\\\": {\\n                  \\\\\\\"image_id\\\\\\\": \\\\\\\"-\\\\\\\"\\n               },\\n               \\\\\\\"option\\\\\\\": \\\\\\\"-\\\\\\\"\\n            }\\n         ]\\n      }\\n   ]\\n}\\\")\\n.asString();\"},{\"type\":\"PHP\",\"value\":\"<?php\\n\\n$curl = curl_init();\\n\\ncurl_setopt_array($curl, array(\\n  CURLOPT_URL => 'https://partner.uat.shopeemobile.com/api/v2/product/update_tier_variation?access_token=access_token&partner_id=partner_id&shop_id=shop_id&sign=sign&timestamp=timestamp',\\n  CURLOPT_RETURNTRANSFER => true,\\n  CURLOPT_ENCODING => '',\\n  CURLOPT_MAXREDIRS => 10,\\n  CURLOPT_TIMEOUT => 0,\\n  CURLOPT_FOLLOWLOCATION => true,\\n  CURLOPT_HTTP_VERSION => CURL_HTTP_VERSION_1_1,\\n  CURLOPT_CUSTOMREQUEST => 'POST',\\n  CURLOPT_POSTFIELDS => '{\\n    \\\"item_id\\\": 1000,\\n    \\\"tier_variation\\\": [\\n        {\\n            \\\"name\\\": \\\"-\\\",\\n            \\\"option_list\\\": [\\n                {\\n                    \\\"image\\\": {\\n                        \\\"image_id\\\": \\\"-\\\"\\n                    },\\n                    \\\"option\\\": \\\"-\\\"\\n                }\\n            ]\\n        }\\n    ]\\n}',\\n  CURLOPT_HTTPHEADER => array(\\n    'Content-Type: application/json'\\n  ),\\n));\\n\\n$response = curl_exec($curl);\\n\\ncurl_close($curl);\\necho $response;\\n\"},{\"type\":\"cURL\",\"value\":\"curl --location --request POST 'https://partner.uat.shopeemobile.com/api/v2/product/update_tier_variation?access_token=access_token&timestamp=timestamp&shop_id=shop_id&partner_id=partner_id&sign=sign' \\\\\\n--header 'Content-Type: application/json' \\\\\\n--data-raw '{\\n   \\\"item_id\\\": 1000,\\n   \\\"tier_variation\\\": [\\n      {\\n         \\\"name\\\": \\\"-\\\",\\n         \\\"option_list\\\": [\\n            {\\n               \\\"image\\\": {\\n                  \\\"image_id\\\": \\\"-\\\"\\n               },\\n               \\\"option\\\": \\\"-\\\"\\n            }\\n         ]\\n      }\\n   ]\\n}'\\n\"},{\"type\":\"Python\",\"value\":\"import requests\\nimport json\\n\\nurl = \\\"https://partner.uat.shopeemobile.com/api/v2/product/update_tier_variation?access_token=access_token&partner_id=partner_id&shop_id=shop_id&sign=sign&timestamp=timestamp\\\"\\n\\npayload=json.dumps({\\n  \\\"item_id\\\": 1000,\\n  \\\"tier_variation\\\": [\\n    {\\n      \\\"name\\\": \\\"-\\\",\\n      \\\"option_list\\\": [\\n        {\\n          \\\"image\\\": {\\n            \\\"image_id\\\": \\\"-\\\"\\n          },\\n          \\\"option\\\": \\\"-\\\"\\n        }\\n      ]\\n    }\\n  ]\\n})\\nheaders = {\\n  'Content-Type': 'application/json'\\n}\\nresponse = requests.request(\\\"POST\\\",url,headers=headers, data=payload, allow_redirects=False)\\n\\nprint(response.text)\\n\"}]",
  "response_sample": "[{\"type\":\"JSON\",\"value\":\"{\\n\\t\\\"error\\\": \\\"-\\\",\\n\\t\\\"message\\\": \\\"-\\\",\\n\\t\\\"warning\\\": \\\"-\\\",\\n\\t\\\"request_id\\\": \\\"-\\\"\\n}\"}]",
  "status": 1,
  "tag": "",
  "test_url": "https://partner.test-stable.shopeemobile.com/api/v2/product/update_tier_variation",
  "update_log_list": [
    {
      "date": "2025-09-12",
      "content": "The tier_variation structure in the documentation has been deprecated.\nPlease use the standardise_tier_variation structure when uploading variations."
    },
    {
      "date": "2024-03-26",
      "content": "Add standard variation fields"
    },
    {
      "date": "2022-08-11",
      "content": "add model list"
    },
    {
      "date": "2022-03-30",
      "content": "update image id description"
    },
    {
      "date": "2022-01-27",
      "content": "update the define and tier_variation description"
    }
  ],
  "url": "https://partner.shopeemobile.com/api/v2/product/update_tier_variation",
  "version": "",
  "error_example": "[]",
  "api_permission": [
    "ERP System",
    "Seller In House System",
    "Product Management"
  ],
  "path": "/api/v2/product/update_tier_variation"
}